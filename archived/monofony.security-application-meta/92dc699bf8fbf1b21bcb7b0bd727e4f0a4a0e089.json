{
    "manifests": {
        "monofony/security-application-meta": {
            "manifest": {
                "copy-from-recipe": {
                    "src/": "%SRC_DIR%/"
                }
            },
            "files": {
                "src/Security/Application/AdminUser/Command/CreateAdminUserCommand.php": {
                    "contents": [
                        "<?php",
                        "",
                        "declare(strict_types=1);",
                        "",
                        "namespace App\\Security\\Application\\AdminUser\\Command;",
                        "",
                        "use App\\Security\\Domain\\ValueObject\\User\\AdminUserEmail;",
                        "use App\\Security\\Domain\\ValueObject\\User\\AdminUserPassword;",
                        "use App\\Shared\\Application\\Command\\CommandInterface;",
                        "",
                        "final class CreateAdminUserCommand implements CommandInterface",
                        "{",
                        "    public function __construct(",
                        "        public AdminUserEmail $email,",
                        "        public AdminUserPassword $password,",
                        "    ) {",
                        "    }",
                        "}",
                        ""
                    ],
                    "executable": false
                },
                "src/Security/Application/AdminUser/Command/CreateAdminUserCommandHandler.php": {
                    "contents": [
                        "<?php",
                        "",
                        "declare(strict_types=1);",
                        "",
                        "namespace App\\Security\\Application\\AdminUser\\Command;",
                        "",
                        "use App\\Security\\Domain\\Model\\User\\AdminUser;",
                        "use App\\Security\\Domain\\Repository\\AdminUserRepositoryInterface;",
                        "use App\\Security\\Infrastructure\\Identity\\AdminUserIdGenerator;",
                        "use App\\Shared\\Application\\Command\\CommandHandlerInterface;",
                        "",
                        "final readonly class CreateAdminUserCommandHandler implements CommandHandlerInterface",
                        "{",
                        "    public function __construct(",
                        "        private AdminUserIdGenerator $generator,",
                        "        private AdminUserRepositoryInterface $adminUserRepository,",
                        "    ) {",
                        "    }",
                        "",
                        "    public function __invoke(CreateAdminUserCommand $command): AdminUser",
                        "    {",
                        "        $adminUser = new AdminUser(",
                        "            $this->generator->nextIdentity(),",
                        "            $command->email,",
                        "            $command->password,",
                        "        );",
                        "",
                        "        $this->adminUserRepository->save($adminUser);",
                        "",
                        "        return $adminUser;",
                        "    }",
                        "}",
                        ""
                    ],
                    "executable": false
                },
                "src/Security/Application/AdminUser/Command/DeleteAdminUserCommand.php": {
                    "contents": [
                        "<?php",
                        "",
                        "declare(strict_types=1);",
                        "",
                        "namespace App\\Security\\Application\\AdminUser\\Command;",
                        "",
                        "use App\\Shared\\Application\\Command\\CommandInterface;",
                        "",
                        "final class DeleteAdminUserCommand implements CommandInterface",
                        "{",
                        "    public function __construct(",
                        "        public string $id,",
                        "    ) {",
                        "    }",
                        "}",
                        ""
                    ],
                    "executable": false
                },
                "src/Security/Application/AdminUser/Command/DeleteAdminUserCommandHandler.php": {
                    "contents": [
                        "<?php",
                        "",
                        "declare(strict_types=1);",
                        "",
                        "namespace App\\Security\\Application\\AdminUser\\Command;",
                        "",
                        "use App\\Security\\Domain\\Repository\\AdminUserRepositoryInterface;",
                        "use App\\Shared\\Application\\Command\\CommandHandlerInterface;",
                        "",
                        "final class DeleteAdminUserCommandHandler implements CommandHandlerInterface",
                        "{",
                        "    public function __construct(",
                        "        private AdminUserRepositoryInterface $adminUserRepository",
                        "    ) {",
                        "    }",
                        "",
                        "    public function __invoke(DeleteAdminUserCommand $command): void",
                        "    {",
                        "        if (null === $boardGame = $this->adminUserRepository->ofId($command->id)) {",
                        "            return;",
                        "        }",
                        "",
                        "        $this->adminUserRepository->remove($boardGame);",
                        "    }",
                        "}",
                        ""
                    ],
                    "executable": false
                },
                "src/Security/Application/AdminUser/Command/UpdateAdminUserCommand.php": {
                    "contents": [
                        "<?php",
                        "",
                        "declare(strict_types=1);",
                        "",
                        "namespace App\\Security\\Application\\AdminUser\\Command;",
                        "",
                        "use App\\Security\\Domain\\ValueObject\\User\\AdminUserEmail;",
                        "use App\\Security\\Domain\\ValueObject\\User\\AdminUserPassword;",
                        "use App\\Shared\\Application\\Command\\CommandInterface;",
                        "",
                        "final readonly class UpdateAdminUserCommand implements CommandInterface",
                        "{",
                        "    public function __construct(",
                        "        public string $id,",
                        "        public AdminUserEmail $email,",
                        "        public AdminUserPassword|null $password,",
                        "    ) {",
                        "    }",
                        "}",
                        ""
                    ],
                    "executable": false
                },
                "src/Security/Application/AdminUser/Command/UpdateAdminUserCommandHandler.php": {
                    "contents": [
                        "<?php",
                        "",
                        "declare(strict_types=1);",
                        "",
                        "namespace App\\Security\\Application\\AdminUser\\Command;",
                        "",
                        "use App\\Security\\Domain\\Model\\User\\AdminUser;",
                        "use App\\Security\\Domain\\Repository\\AdminUserRepositoryInterface;",
                        "use App\\Security\\Domain\\ValueObject\\User\\AdminUserId;",
                        "use App\\Shared\\Application\\Command\\CommandHandlerInterface;",
                        "",
                        "final readonly class UpdateAdminUserCommandHandler implements CommandHandlerInterface",
                        "{",
                        "    public function __construct(",
                        "        private AdminUserRepositoryInterface $adminUserRepository,",
                        "    ) {",
                        "    }",
                        "",
                        "    public function __invoke(UpdateAdminUserCommand $command): AdminUser",
                        "    {",
                        "        $adminUser = new AdminUser(",
                        "            new AdminUserId($command->id),",
                        "            $command->email,",
                        "            $command->password,",
                        "        );",
                        "",
                        "        $this->adminUserRepository->save($adminUser);",
                        "",
                        "        return $adminUser;",
                        "    }",
                        "}",
                        ""
                    ],
                    "executable": false
                },
                "src/Security/Application/AdminUser/Query/FindAdminUserQuery.php": {
                    "contents": [
                        "<?php",
                        "",
                        "declare(strict_types=1);",
                        "",
                        "namespace App\\Security\\Application\\AdminUser\\Query;",
                        "",
                        "use App\\Shared\\Application\\Query\\QueryInterface;",
                        "",
                        "class FindAdminUserQuery implements QueryInterface",
                        "{",
                        "    public function __construct(",
                        "        public string $id,",
                        "    ) {",
                        "    }",
                        "}",
                        ""
                    ],
                    "executable": false
                },
                "src/Security/Application/AdminUser/Query/FindAdminUserQueryHandler.php": {
                    "contents": [
                        "<?php",
                        "",
                        "declare(strict_types=1);",
                        "",
                        "namespace App\\Security\\Application\\AdminUser\\Query;",
                        "",
                        "use App\\Security\\Domain\\Model\\User\\AdminUser;",
                        "use App\\Security\\Domain\\Repository\\AdminUserRepositoryInterface;",
                        "use App\\Shared\\Application\\Query\\QueryHandlerInterface;",
                        "",
                        "final class FindAdminUserQueryHandler implements QueryHandlerInterface",
                        "{",
                        "    public function __construct(",
                        "        private AdminUserRepositoryInterface $repository",
                        "    ) {",
                        "    }",
                        "",
                        "    public function __invoke(FindAdminUserQuery $query): AdminUser|null",
                        "    {",
                        "        return $this->repository->ofId($query->id);",
                        "    }",
                        "}",
                        ""
                    ],
                    "executable": false
                },
                "src/Security/Application/AdminUser/Query/FindAdminUsersQuery.php": {
                    "contents": [
                        "<?php",
                        "",
                        "declare(strict_types=1);",
                        "",
                        "namespace App\\Security\\Application\\AdminUser\\Query;",
                        "",
                        "use App\\Shared\\Application\\Query\\QueryInterface;",
                        "",
                        "final readonly class FindAdminUsersQuery implements QueryInterface",
                        "{",
                        "    public function __construct(",
                        "        public int|null $page = null,",
                        "        public int|null $itemsPerPage = null,",
                        "        public bool|null $emailSortingAsc = null,",
                        "        public bool|null $emailSortingDesc = null,",
                        "        public string|null $searchQuery = null,",
                        "    ) {",
                        "    }",
                        "}",
                        ""
                    ],
                    "executable": false
                },
                "src/Security/Application/AdminUser/Query/FindAdminUsersQueryHandler.php": {
                    "contents": [
                        "<?php",
                        "",
                        "declare(strict_types=1);",
                        "",
                        "namespace App\\Security\\Application\\AdminUser\\Query;",
                        "",
                        "use App\\Security\\Domain\\Repository\\AdminUserRepositoryInterface;",
                        "use App\\Shared\\Application\\Query\\QueryHandlerInterface;",
                        "",
                        "final readonly class FindAdminUsersQueryHandler implements QueryHandlerInterface",
                        "{",
                        "    public function __construct(",
                        "        private AdminUserRepositoryInterface $adminUserRepository,",
                        "    ) {",
                        "    }",
                        "",
                        "    public function __invoke(FindAdminUsersQuery $query): AdminUserRepositoryInterface",
                        "    {",
                        "        $adminUserRepository = $this->adminUserRepository;",
                        "",
                        "        if (null !== $query->page && null !== $query->itemsPerPage) {",
                        "            $adminUserRepository = $adminUserRepository->withPagination($query->page, $query->itemsPerPage);",
                        "        }",
                        "",
                        "        if ($query->emailSortingAsc) {",
                        "            $adminUserRepository = $adminUserRepository->withAscendingEmailSorting();",
                        "        }",
                        "",
                        "        if ($query->emailSortingDesc) {",
                        "            $adminUserRepository = $adminUserRepository->withDescendingEmailSorting();",
                        "        }",
                        "",
                        "        if (null !== $query->searchQuery) {",
                        "            $adminUserRepository = $adminUserRepository->withSearchQuery($query->searchQuery);",
                        "        }",
                        "",
                        "        return $adminUserRepository;",
                        "    }",
                        "}",
                        ""
                    ],
                    "executable": false
                }
            },
            "ref": "92dc699bf8fbf1b21bcb7b0bd727e4f0a4a0e089"
        }
    }
}
